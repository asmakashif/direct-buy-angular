<div class="flex flex-col flex-auto min-w-0">
    <!-- Header -->
    <div class="bg-card">
        <div class="flex flex-col w-full max-w-screen-xl mx-auto px-6 sm:px-8">
            <div
                class="
                    flex flex-col
                    sm:flex-row
                    flex-auto
                    sm:items-center
                    min-w-0
                    my-8
                    sm:my-12
                "
            >
                <!-- Avatar and name -->
                <div class="flex flex-auto items-center min-w-0">
                    <div class="flex-0 w-16 h-16 rounded-full overflow-hidden">
                        <img
                            class="w-full h-full object-cover"
                            src="assets/images/avatars/avatar.png"
                        />
                    </div>
                    <div class="flex flex-col min-w-0 ml-4">
                        <ng-container *transloco="let t">
                            <div
                                class="
                                    text-2xl
                                    md:text-5xl
                                    font-semibold
                                    tracking-tight
                                    leading-7
                                    md:leading-snug
                                    truncate
                                "
                            >
                                {{ t("welcome-back") }}, {{ firstname }}!
                            </div>
                        </ng-container>
                        <div class="flex items-center">
                            <mat-icon
                                class="icon-size-5"
                                [svgIcon]="'heroicons_solid:bell'"
                            ></mat-icon>
                            <div
                                class="ml-1.5 leading-6 truncate text-secondary"
                            >
                                You have 2 new messages and 15 new tasks
                            </div>
                        </div>
                        <!-- <flash-messages></flash-messages> -->
                    </div>
                </div>
                <!-- Actions -->
                <div class="flex items-center mt-6 sm:mt-0 sm:ml-2 space-x-3">
                    <button
                        class="fuse-mat-button-rounded bg-accent-700"
                        mat-flat-button
                        [color]="'accent'"
                    >
                        <mat-icon
                            class="icon-size-5"
                            [svgIcon]="'heroicons_solid:mail'"
                        ></mat-icon>
                        <span class="ml-2">Messages</span>
                    </button>
                    <button
                        class="fuse-mat-button-rounded"
                        mat-flat-button
                        [color]="'primary'"
                    >
                        <mat-icon
                            class="icon-size-5"
                            [svgIcon]="'heroicons_solid:cog'"
                        ></mat-icon>
                        <span class="ml-2">Settings</span>
                    </button>
                </div>
            </div>
            <!-- Project selector -->
            <div
                class="
                    relative
                    flex
                    self-start
                    pt-2
                    pb-1
                    pl-5
                    pr-4
                    cursor-pointer
                    overflow-hidden
                    rounded-t-xl
                    border border-b-0
                    bg-default
                "
                matRipple
                [matMenuTriggerFor]="projectsMenu"
            >
                <div class="flex items-center">
                    <div class="overflow-hidden">
                        <div
                            class="font-medium leading-6 truncate"
                            *ngIf="queryParam == null"
                        >
                            {{ selectedProject | titlecase }}
                        </div>
                        <div
                            class="font-medium leading-6 truncate"
                            *ngIf="queryParam != null"
                        >
                            {{ shop_name | titlecase }}
                        </div>
                    </div>
                    <div class="flex items-center justify-center pl-2">
                        <mat-icon
                            class="icon-size-5"
                            [svgIcon]="'heroicons_solid:chevron-down'"
                        ></mat-icon>
                    </div>
                </div>
                <mat-menu #projectsMenu="matMenu" [xPosition]="'before'">
                    <button mat-menu-item (click)="dashbaord()">
                        Dashboard
                    </button>
                    <button
                        mat-menu-item
                        (click)="changeStore(stores)"
                        *ngFor="let stores of data"
                    >
                        {{ stores.shop_name }}
                    </button>
                </mat-menu>
            </div>
        </div>
    </div>

    <!-- Main -->
    <div class="flex-auto border-t -mt-px pt-4 sm:pt-6">
        <div class="w-full max-w-screen-xl mx-auto">
            <!-- Tabs -->
            <mat-tab-group class="sm:px-2" [animationDuration]="'0'">
                <!-- All Orders -->
                <mat-tab label="All">
                    <ng-template matTabContent>
                        <div class="fixedheader">
                            <ng-container
                                *ngIf="allOrders.length > 0; else noOrders"
                            >
                                <div class="grid">
                                    <!-- Header -->
                                    <div
                                        class="
                                            inventory-grid
                                            z-10
                                            sticky
                                            top-0
                                            grid
                                            gap-4
                                            py-4
                                            px-6
                                            md:px-8
                                            shadow
                                            text-md
                                            font-semibold
                                            text-secondary
                                            bg-gray-50
                                            dark:bg-black dark:bg-opacity-5
                                        "
                                        matSort
                                        matSortDisableClear
                                    >
                                        <div></div>
                                        <div
                                            class="hidden md:block"
                                            [mat-sort-header]="'sku'"
                                        >
                                            Order Code
                                        </div>
                                        <div [mat-sort-header]="'name'">
                                            Customer Name
                                        </div>
                                        <div
                                            class="hidden sm:block"
                                            [mat-sort-header]="'price'"
                                        >
                                            Order value
                                        </div>

                                        <div
                                            class="hidden lg:block"
                                            [mat-sort-header]="'active'"
                                        >
                                            Status
                                        </div>
                                        <div class="hidden sm:block">
                                            Order Date
                                        </div>
                                    </div>
                                    <ng-container
                                        *ngFor="let order of allOrders"
                                    >
                                        <div
                                            class="
                                                inventory-grid
                                                grid
                                                items-center
                                                gap-4
                                                py-3
                                                px-6
                                                md:px-8
                                                border-b
                                                bg-card
                                            "
                                        >
                                            <div
                                                class="flex items-center"
                                            ></div>
                                            <!-- Order Code -->

                                            <div class="truncate">
                                                <a
                                                    href="javascript:void(0);"
                                                    (click)="
                                                        orderDetailsByCode(
                                                            order.order_code
                                                        )
                                                    "
                                                    >{{ order.order_code }}</a
                                                >
                                            </div>

                                            <!-- Name -->
                                            <div class="truncate">
                                                {{ order.c_fname }}
                                            </div>

                                            <!-- Price -->
                                            <div class="hidden sm:block">
                                                {{
                                                    order.total
                                                        | currency
                                                            : "INR"
                                                            : "symbol"
                                                            : "1.2-2"
                                                }}
                                            </div>

                                            <!-- Active -->
                                            <div class="hidden lg:block">
                                                <ng-container
                                                    *ngIf="
                                                        order.order_status == 1
                                                    "
                                                >
                                                    <mat-icon
                                                        class="
                                                            text-green-400
                                                            icon-size-5
                                                        "
                                                        [svgIcon]="
                                                            'heroicons_solid:check'
                                                        "
                                                    ></mat-icon>
                                                </ng-container>
                                                <ng-container
                                                    *ngIf="
                                                        order.order_status == 0
                                                    "
                                                >
                                                    <mat-icon
                                                        class="
                                                            text-gray-400
                                                            icon-size-5
                                                        "
                                                        [svgIcon]="
                                                            'heroicons_solid:x'
                                                        "
                                                    ></mat-icon>
                                                </ng-container>
                                            </div>

                                            <!-- Place date -->
                                            <div class="hidden sm:block">
                                                {{ order.order_placed_date }}
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </ng-container>
                            <ng-template #noOrders>
                                <div
                                    class="
                                        p-8
                                        sm:p-16
                                        border-t
                                        text-4xl
                                        font-semibold
                                        tracking-tight
                                        text-center
                                    "
                                >
                                    There are no Orders!
                                </div>
                            </ng-template>
                        </div>
                    </ng-template>
                </mat-tab>

                <!-- Pending Orders -->
                <mat-tab label="Pending Orders">
                    <ng-template matTabContent>
                        <div class="fixedheader">
                            <ng-container
                                *ngIf="
                                    pendingOrders.length > 0;
                                    else noPendingOrders
                                "
                            >
                                <div class="grid">
                                    <!-- Header -->
                                    <div
                                        class="
                                            inventory-grid
                                            z-10
                                            sticky
                                            top-0
                                            grid
                                            gap-4
                                            py-4
                                            px-6
                                            md:px-8
                                            shadow
                                            text-md
                                            font-semibold
                                            text-secondary
                                            bg-gray-50
                                            dark:bg-black dark:bg-opacity-5
                                        "
                                        matSort
                                        matSortDisableClear
                                    >
                                        <div></div>
                                        <div
                                            class="hidden md:block"
                                            [mat-sort-header]="'sku'"
                                        >
                                            Order Code
                                        </div>
                                        <div [mat-sort-header]="'name'">
                                            Customer Name
                                        </div>
                                        <div
                                            class="hidden sm:block"
                                            [mat-sort-header]="'price'"
                                        >
                                            Order value
                                        </div>

                                        <div
                                            class="hidden lg:block"
                                            [mat-sort-header]="'active'"
                                        >
                                            Status
                                        </div>
                                        <div class="hidden sm:block">
                                            Order Date
                                        </div>
                                    </div>
                                    <ng-container
                                        *ngFor="let order of pendingOrders"
                                    >
                                        <div
                                            class="
                                                inventory-grid
                                                grid
                                                items-center
                                                gap-4
                                                py-3
                                                px-6
                                                md:px-8
                                                border-b
                                                bg-card
                                            "
                                        >
                                            <div
                                                class="flex items-center"
                                            ></div>
                                            <!-- Order Code -->

                                            <div class="truncate">
                                                <a
                                                    href="javascript:void(0);"
                                                    (click)="
                                                        orderDetailsByCode(
                                                            order.order_code
                                                        )
                                                    "
                                                    >{{ order.order_code }}</a
                                                >
                                            </div>

                                            <!-- Name -->
                                            <div class="truncate">
                                                {{ order.c_fname }}
                                            </div>

                                            <!-- Price -->
                                            <div class="hidden sm:block">
                                                {{
                                                    order.total
                                                        | currency
                                                            : "INR"
                                                            : "symbol"
                                                            : "1.2-2"
                                                }}
                                            </div>

                                            <!-- Active -->
                                            <div class="hidden lg:block">
                                                <ng-container
                                                    *ngIf="
                                                        order.order_status == 1
                                                    "
                                                >
                                                    <mat-icon
                                                        class="
                                                            text-green-400
                                                            icon-size-5
                                                        "
                                                        [svgIcon]="
                                                            'heroicons_solid:check'
                                                        "
                                                    ></mat-icon>
                                                </ng-container>
                                                <ng-container
                                                    *ngIf="
                                                        order.order_status == 0
                                                    "
                                                >
                                                    <mat-icon
                                                        class="
                                                            text-gray-400
                                                            icon-size-5
                                                        "
                                                        [svgIcon]="
                                                            'heroicons_solid:x'
                                                        "
                                                    ></mat-icon>
                                                </ng-container>
                                            </div>

                                            <!-- Place date -->
                                            <div class="hidden sm:block">
                                                {{ order.order_placed_date }}
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </ng-container>
                            <ng-template #noPendingOrders>
                                <div
                                    class="
                                        p-8
                                        sm:p-16
                                        border-t
                                        text-4xl
                                        font-semibold
                                        tracking-tight
                                        text-center
                                    "
                                >
                                    There are no Pending Orders!
                                </div>
                            </ng-template>
                        </div>
                    </ng-template>
                </mat-tab>

                <!-- Completed Orders -->
                <mat-tab label="Completed Orders">
                    <ng-template matTabContent>
                        <div class="fixedheader">
                            <ng-container
                                *ngIf="
                                    completedOrders.length > 0;
                                    else noCompletedOrders
                                "
                            >
                                <div class="grid">
                                    <!-- Header -->
                                    <div
                                        class="
                                            inventory-grid
                                            z-10
                                            sticky
                                            top-0
                                            grid
                                            gap-4
                                            py-4
                                            px-6
                                            md:px-8
                                            shadow
                                            text-md
                                            font-semibold
                                            text-secondary
                                            bg-gray-50
                                            dark:bg-black dark:bg-opacity-5
                                        "
                                        matSort
                                        matSortDisableClear
                                    >
                                        <div></div>
                                        <div
                                            class="hidden md:block"
                                            [mat-sort-header]="'sku'"
                                        >
                                            Order Code
                                        </div>
                                        <div [mat-sort-header]="'name'">
                                            Customer Name
                                        </div>
                                        <div
                                            class="hidden sm:block"
                                            [mat-sort-header]="'price'"
                                        >
                                            Order value
                                        </div>

                                        <div
                                            class="hidden lg:block"
                                            [mat-sort-header]="'active'"
                                        >
                                            Status
                                        </div>
                                        <div class="hidden sm:block">
                                            Order Date
                                        </div>
                                    </div>
                                    <ng-container
                                        *ngFor="let order of completedOrders"
                                    >
                                        <div
                                            class="
                                                inventory-grid
                                                grid
                                                items-center
                                                gap-4
                                                py-3
                                                px-6
                                                md:px-8
                                                border-b
                                                bg-card
                                            "
                                        >
                                            <div
                                                class="flex items-center"
                                            ></div>
                                            <!-- Order Code -->

                                            <div class="truncate">
                                                <a
                                                    href="javascript:void(0);"
                                                    (click)="
                                                        orderDetailsByCode(
                                                            order.order_code
                                                        )
                                                    "
                                                    >{{ order.order_code }}</a
                                                >
                                            </div>

                                            <!-- Name -->
                                            <div class="truncate">
                                                {{ order.c_fname }}
                                            </div>

                                            <!-- Price -->
                                            <div class="hidden sm:block">
                                                {{
                                                    order.total
                                                        | currency
                                                            : "INR"
                                                            : "symbol"
                                                            : "1.2-2"
                                                }}
                                            </div>

                                            <!-- Active -->
                                            <div class="hidden lg:block">
                                                <ng-container
                                                    *ngIf="
                                                        order.order_status == 1
                                                    "
                                                >
                                                    <mat-icon
                                                        class="
                                                            text-green-400
                                                            icon-size-5
                                                        "
                                                        [svgIcon]="
                                                            'heroicons_solid:check'
                                                        "
                                                    ></mat-icon>
                                                </ng-container>
                                                <ng-container
                                                    *ngIf="
                                                        order.order_status == 0
                                                    "
                                                >
                                                    <mat-icon
                                                        class="
                                                            text-gray-400
                                                            icon-size-5
                                                        "
                                                        [svgIcon]="
                                                            'heroicons_solid:x'
                                                        "
                                                    ></mat-icon>
                                                </ng-container>
                                            </div>

                                            <!-- Place date -->
                                            <div class="hidden sm:block">
                                                {{ order.order_placed_date }}
                                            </div>
                                        </div>
                                    </ng-container>
                                </div>
                            </ng-container>
                            <ng-template #noCompletedOrders>
                                <div
                                    class="
                                        p-8
                                        sm:p-16
                                        border-t
                                        text-4xl
                                        font-semibold
                                        tracking-tight
                                        text-center
                                    "
                                >
                                    There are no Completed Orders!
                                </div>
                            </ng-template>
                        </div>
                    </ng-template>
                </mat-tab>
            </mat-tab-group>
        </div>
    </div>
</div>
