<div class="flex flex-col flex-auto min-w-0">
    <!-- Header -->
    <div class="bg-card">
        <div class="flex flex-col w-full max-w-screen-xl mx-auto px-6 sm:px-8">
            <div class="flex flex-col sm:flex-row flex-auto sm:items-center min-w-0 my-8 sm:my-12">
                <!-- Avatar and name -->
                <div class="flex flex-auto items-center min-w-0">
                    <div class="flex-0 w-16 h-16 rounded-full overflow-hidden">
                        <img class="w-full h-full object-cover" src="assets/images/avatars/avatar.png" />
                    </div>
                    <div class="flex flex-col min-w-0 ml-4">
                        <ng-container *transloco="let t">
                            <div
                                class="text-2xl md:text-5xl font-semibold tracking-tight leading-7 md:leading-snug truncate">
                                {{ t("welcome-back") }}, {{ firstname }}!
                            </div>
                        </ng-container>
                        <div class="flex items-center">
                            <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:bell'"></mat-icon>
                            <div class="ml-1.5 leading-6 truncate text-secondary">
                                You have 0 new messages
                            </div>
                        </div>
                        <!-- <flash-messages></flash-messages> -->
                    </div>
                </div>
                <!-- Actions -->
                <div class="flex items-center mt-6 sm:mt-0 sm:ml-2 space-x-3">
                    <button class="fuse-mat-button-rounded bg-accent-700" mat-flat-button [color]="'accent'"
                        [routerLink]="['/dashboard']">
                        <mat-icon class="icon-size-5" [svgIcon]="'heroicons_solid:home'"></mat-icon>
                        <span class="ml-2">Home</span>
                    </button>
                    <a class="fuse-mat-button-rounded" href="javascript:void(0);" [routerLink]="['/store-setting']"
                        mat-flat-button [color]="'primary'">
                        <fa-icon [icon]="faStore"></fa-icon>
                        <span class="ml-2">Store</span>
                    </a>
                    <a target="_blank" class="fuse-mat-button-rounded" href="https://wa.me/?text=Dear Customer,We are delighted to inform you that our store is now online on https://{{
                            domainname
                        }}.direct-buy.in and orders can be placed online.
                        Regards - {{ firstname }}" style="text-decoration: none;">
                        <button mat-flat-button color="success" style="background-color: #25D366;color: #f0fff3;">
                            <fa-icon [icon]="faWhatsapp"></fa-icon>
                            <span class="ml-2">WhatsApp</span>
                        </button>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Main -->
    <div class="flex flex-auto overflow-hidden">
        <!-- Products list -->
        <div class="flex flex-col flex-auto sm:mb-18 overflow-hidden">
            <ng-container *ngIf="product_status == 2; else viewProducts">
                <div class="text-lg font-medium tracking-tight leading-6 truncate">
                    <h2>
                        Products adding from central database skipped
                    </h2>
                </div>
            </ng-container>
            <ng-template #viewProducts>
                <!-- Actions -->
                <div class="flex flex-shrink-0 items-center mt-6 sm:mt-0 sm:ml-4">
                    <!-- Search -->
                    <mat-form-field class="fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded min-w-64">
                        <mat-icon class="icon-size-5" matPrefix [svgIcon]="'heroicons_solid:search'"></mat-icon>
                        <input matInput name="search" [(ngModel)]="searchText" [autocomplete]="'off'"
                            [placeholder]="'Search products'" />
                        <button mat-button mat-icon-button matSuffix (click)="clearSearchField()" *ngIf="searchText">
                            <mat-icon svgIcon="close" [inline]="true" color="danger"></mat-icon>
                        </button>
                    </mat-form-field>
                </div>
                <br />
                <div class="fixedheader">
                    <div class="grid">
                        <!-- Header -->
                        <div class="inventory-grid z-10 sticky top-0 grid gap-4 py-4 px-6 md:px-8 shadow text-md font-semibold text-secondary bg-gray-50 dark:bg-black dark:bg-opacity-5"
                            matSort matSortDisableClear>
                            <div></div>
                            <!-- <div
                                class="hidden md:block"
                                [mat-sort-header]="'sku'"
                            >
                                Category
                            </div> -->
                            <div [mat-sort-header]="'name'">Name</div>
                            <div class="hidden sm:block" [mat-sort-header]="'price'">
                                Price
                            </div>
                            <div class="hidden lg:block" [mat-sort-header]="'stock'">
                                Stock
                            </div>
                            <div class="hidden lg:block" [mat-sort-header]="'active'">
                                Active
                            </div>
                            <div class="hidden sm:block">Details</div>
                        </div>
                        <ng-container *ngFor="
                                let product of products
                                    | filter: searchText
                            ">
                            <div class="inventory-grid grid items-center gap-4 py-3 px-6 md:px-8 border-b bg-card">
                                <!-- Image -->
                                <div class="flex items-center">
                                    <div class="relative flex flex-0 items-center justify-center w-12 h-12 mr-6 rounded overflow-hidden border"
                                        *ngIf="product.product_img">
                                        <img class="w-8" *ngIf="
                                                product.upload_format ==
                                                1
                                            " [src]="
                                                imagePath +
                                                product.product_img
                                            " />
                                        <img class="w-8" *ngIf="
                                                product.upload_format ==
                                                0
                                            " [src]="product.product_img" />
                                    </div>
                                    <div class="relative flex flex-0 items-center justify-center w-12 h-12 mr-6 rounded overflow-hidden border"
                                        *ngIf="!product.product_img">
                                        <div
                                            class="flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase">
                                            NO THUMB
                                        </div>
                                    </div>
                                </div>

                                <!-- SKU -->
                                <!-- <div class="hidden md:block truncate">
                                    {{ product.category }}
                                </div> -->
                                <!-- Name -->
                                <div>
                                    {{ product.product_name }}
                                </div>

                                <!-- Price -->
                                <div class="hidden sm:block">
                                    {{
                                    product.product_price
                                    | currency
                                    : "INR"
                                    : "symbol"
                                    : "1.2-2"
                                    }}
                                </div>

                                <!-- Stock -->
                                <div class="hidden lg:flex items-center">
                                    <div class="min-w-4">
                                        {{ product.product_qty }}
                                    </div>
                                    <!-- Low stock -->
                                    <div class="flex items-end ml-2 w-1 h-4 bg-red-200 rounded overflow-hidden"
                                        *ngIf="product.product_qty < 20">
                                        <div class="flex w-full h-1/3 bg-red-600"></div>
                                    </div>
                                    <!-- Medium stock -->
                                    <div class="flex items-end ml-2 w-1 h-4 bg-orange-200 rounded overflow-hidden"
                                        *ngIf="
                                            product.product_qty >= 20 &&
                                            product.product_qty < 30
                                        ">
                                        <div class="flex w-full h-2/4 bg-orange-400"></div>
                                    </div>
                                    <!-- High stock -->
                                    <div class="flex items-end ml-2 w-1 h-4 bg-green-100 rounded overflow-hidden" *ngIf="
                                            product.product_qty >= 30
                                        ">
                                        <div class="flex w-full h-full bg-green-400"></div>
                                    </div>
                                </div>

                                <!-- Active -->
                                <div class="hidden lg:block">
                                    <ng-container *ngIf="
                                            product.product_status == 1
                                        ">
                                        <mat-icon class="text-green-400 icon-size-5" [svgIcon]="
                                                'heroicons_solid:check'
                                            "></mat-icon>
                                    </ng-container>
                                    <ng-container *ngIf="
                                            product.product_status == 0
                                        ">
                                        <mat-icon class="text-gray-400 icon-size-5" [svgIcon]="
                                                'heroicons_solid:x'
                                            "></mat-icon>
                                    </ng-container>
                                </div>

                                <!-- Details button -->
                                <div *ngIf="
                                        !editCache[
                                            product.temp_str_config_id
                                        ]
                                    ">
                                    <button class="min-w-10 min-h-7 h-7 px-2 leading-6" mat-stroked-button (click)="
                                            editDetails(
                                                product.temp_str_config_id
                                            )
                                        ">
                                        <mat-icon class="icon-size-5" [svgIcon]="
                                                'heroicons_solid:chevron-down'
                                            "></mat-icon>
                                    </button>
                                </div>
                                <div *ngIf="
                                        editCache[
                                            product.temp_str_config_id
                                        ]
                                    ">
                                    <button class="min-w-10 min-h-7 h-7 px-2 leading-6" mat-stroked-button (click)="
                                            cancelDetails(
                                                product.temp_str_config_id
                                            )
                                        ">
                                        <mat-icon class="icon-size-5" [svgIcon]="
                                                'heroicons_solid:chevron-up'
                                            "></mat-icon>
                                    </button>
                                </div>
                            </div>
                            <div class="grid">
                                <ng-container *ngIf="
                                        editCache[
                                            product.temp_str_config_id
                                        ] == true
                                    ">
                                    <ng-container *ngTemplateOutlet="
                                            rowDetailsTemplate;
                                            context: {
                                                $implicit: product
                                            }
                                        "></ng-container>
                                </ng-container>
                                <ng-container *ngIf="
                                        editCache[
                                            product.temp_str_config_id
                                        ] == false
                                    ">
                                    <ng-container></ng-container>
                                </ng-container>
                            </div>
                        </ng-container>
                    </div>

                    <ng-template #rowDetailsTemplate let-product>
                        <ng-container *ngIf="mobile == true">
                            <div class="shadow-lg overflow-hidden">
                                <div class="flex border-b">
                                    <form class="flex flex-col w-full" [formGroup]="
                                            selectedProductForm
                                        ">
                                        <div class="flex flex-col sm:flex-row p-8">
                                            <!-- Product images and status -->
                                            <div class="flex flex-col items-center sm:items-start mb-8 sm:mb-0">
                                                <div class="flex flex-col items-center image">
                                                    <div class="w-32 h-44 border rounded overflow-hidden">
                                                        <ng-container *ngIf="
                                                                product.product_img;
                                                                else noImage
                                                            ">
                                                            <img *ngIf="
                                                                    product.upload_format ==
                                                                    1
                                                                " [src]="
                                                                    imagePath +
                                                                    product.product_img
                                                                " />
                                                            <img *ngIf="
                                                                    product.upload_format ==
                                                                    0
                                                                " [src]="
                                                                    product.product_img
                                                                " />
                                                        </ng-container>

                                                        <ng-template #noImage>
                                                            <div class="image-upload">
                                                                <label for="file-input">
                                                                    <img src="assets/images/avatars/upload.png" style="
                                                                            margin-top: 30px; ;
                                                                        " />
                                                                </label>
                                                                <input type="file" id="file-input"
                                                                    accept=".png, .jpg, .jpeg" name="product_image"
                                                                    #fileInput (change)="
                                                                        onFileUpload(
                                                                            $event
                                                                        )
                                                                    " />
                                                            </div>
                                                        </ng-template>
                                                    </div>
                                                    <i class="fa fa-edit">
                                                        <div class="image-upload">
                                                            <label for="file-input">
                                                                <img src="assets/images/avatars/upload.png" />
                                                            </label>
                                                            <input type="file" id="file-input"
                                                                accept=".png, .jpg, .jpeg" name="product_image"
                                                                #fileInput (change)="
                                                                    onFileUpload(
                                                                        $event
                                                                    )
                                                                " />
                                                        </div>
                                                    </i>
                                                </div>
                                                <div class="flex flex-col mt-8" *ngIf="
                                                        product.product_status ==
                                                        0
                                                    ">
                                                    <span class="font-semibold mb-2">Product
                                                        status</span>
                                                    <label class="switch">
                                                        <input type="checkbox" [value]="1" [name]="
                                                                'product_status'
                                                            " (change)="
                                                                productStatus(
                                                                    $event
                                                                )
                                                            " matCheckbox />{{
                                                        "Disabled"
                                                        }}
                                                        <span class="slider round">
                                                        </span>
                                                    </label>
                                                </div>
                                                <div class="flex flex-col mt-8" *ngIf="
                                                        product.product_status ==
                                                        1
                                                    ">
                                                    <span class="font-semibold mb-2">Product
                                                        status</span>
                                                    <label class="switch">
                                                        <input type="checkbox" [value]="1" [name]="
                                                                'product_status'
                                                            " checked="true" (change)="
                                                                productStatus(
                                                                    $event
                                                                )
                                                            " matCheckbox />
                                                        <span class="slider round"></span>
                                                        {{ "Active" }}
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="flex flex-auto flex-wrap">
                                                <!-- Name, SKU & etc. -->
                                                <div class="flex flex-col w-full lg:w-2/4 sm:pl-8">
                                                    <!-- Name -->
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Name</mat-label>
                                                        <input matInput [formControlName]="
                                                                'product_name'
                                                            " />
                                                    </mat-form-field>

                                                    <!-- Type and Subtype -->
                                                    <div class="flex">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Product
                                                                Type</mat-label>
                                                            <mat-select class="flex items-center h-10 min-h-10 px-4"
                                                                [formControlName]="
                                                                    'product_type'
                                                                " placeholder="Select Product-Type" (selectionChange)="
                                                                    onChangeProductType(
                                                                        $event
                                                                    )
                                                                ">
                                                                <mat-option [value]="
                                                                        'select'
                                                                    ">Select</mat-option>

                                                                <ng-container *ngFor="
                                                                        let tag of product_type
                                                                    ">
                                                                    <mat-option [value]="
                                                                            tag.product_type
                                                                        ">{{
                                                                        tag.product_type
                                                                        }}</mat-option>
                                                                </ng-container>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Product
                                                                SubType</mat-label>
                                                            <mat-select class="flex items-center h-10 min-h-10 px-4"
                                                                [formControlName]="
                                                                    'product_sub_type'
                                                                " placeholder="Select Product-SubType">
                                                                <mat-option [value]="
                                                                        'select'
                                                                    ">Select</mat-option>
                                                                <ng-container *ngFor="
                                                                        let tag of product_sub_type
                                                                    ">
                                                                    <mat-option [value]="
                                                                            tag.product_sub_type
                                                                        ">{{
                                                                        tag.product_sub_type
                                                                        }}</mat-option>
                                                                </ng-container>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>

                                                    <!-- Category, Brand & SubCategory -->
                                                    <div class="flex">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Category</mat-label>
                                                            <mat-select class="flex items-center h-10 min-h-10 px-4"
                                                                [formControlName]="
                                                                    'category'
                                                                " placeholder="Select Category" (selectionChange)="
                                                                    onChangeCategory(
                                                                        $event
                                                                    )
                                                                ">
                                                                <mat-option *ngFor="
                                                                        let tag of category
                                                                    " [value]="
                                                                        tag.category
                                                                    ">
                                                                    {{
                                                                    tag.category
                                                                    }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>SubCategory</mat-label>
                                                            <mat-select class="flex items-center h-10 min-h-10 px-4"
                                                                [formControlName]="
                                                                    'sub_category'
                                                                " placeholder="Select Sub-Category">
                                                                <mat-option [value]="
                                                                        'select'
                                                                    ">Select</mat-option>
                                                                <ng-container *ngFor="
                                                                        let subcat of sub_category
                                                                    ">
                                                                    <mat-option [value]="
                                                                            subcat.sub_category
                                                                        ">{{
                                                                        subcat.sub_category
                                                                        }}</mat-option>
                                                                </ng-container>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="flex">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Brand</mat-label>
                                                            <mat-select class="flex items-center h-10 min-h-10 px-4"
                                                                [formControlName]="
                                                                    'brand'
                                                                " placeholder="Select Brand">
                                                                <mat-option [value]="
                                                                        'select'
                                                                    ">Select</mat-option>
                                                                <ng-container *ngFor="
                                                                        let tag of brand
                                                                    ">
                                                                    <mat-option [value]="
                                                                            tag.brand
                                                                        ">{{
                                                                        tag.brand
                                                                        }}</mat-option>
                                                                </ng-container>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>

                                                    <!-- Stock and Reserved -->
                                                    <div class="flex">
                                                        <mat-form-field class="w-full">
                                                            <mat-label>Stock</mat-label>
                                                            <input type="number" matInput [formControlName]="
                                                                    'product_qty'
                                                                " />
                                                        </mat-form-field>
                                                    </div>
                                                </div>

                                                <!-- Cost, Base price, Tax & Price -->
                                                <div class="flex flex-col w-full lg:w-1/4 sm:pl-8">
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Weight</mat-label>
                                                        <input matInput [formControlName]="
                                                                'product_weight'
                                                            " />
                                                    </mat-form-field>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Selling
                                                            Price</mat-label>
                                                        <span matPrefix>₹</span>
                                                        <input matInput [formControlName]="
                                                                'offer_price'
                                                            " />
                                                    </mat-form-field>
                                                </div>

                                                <!-- Weight & Tags -->
                                                <div class="flex flex-col w-full lg:w-1/4 sm:pl-8">
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Weight
                                                            Type</mat-label>
                                                        <!-- <span matSuffix
                                                        >lbs.</span
                                                    > -->
                                                        <input matInput [formControlName]="
                                                                'product_weight_type'
                                                            " />
                                                    </mat-form-field>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Price</mat-label>
                                                        <span matPrefix>₹</span>
                                                        <input matInput [formControlName]="
                                                                'product_price'
                                                            " />
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="flex items-center justify-between w-full border-t px-8 py-4">
                                            <button class="-ml-4" mat-button [color]="'warn'" (click)="
                                                    deleteSelectedProduct()
                                                ">
                                                Delete
                                            </button>
                                            <div class="flex items-center">
                                                <div class="flex items-center mr-4" *ngIf="flashMessage">
                                                    <ng-container *ngIf="
                                                            flashMessage ===
                                                            'success'
                                                        ">
                                                        <mat-icon class="text-green-500" [svgIcon]="
                                                                'heroicons_outline:check'
                                                            "></mat-icon>
                                                        <span class="ml-2">Product
                                                            updated</span>
                                                    </ng-container>
                                                    <ng-container *ngIf="
                                                            flashMessage ===
                                                            'error'
                                                        ">
                                                        <mat-icon class="text-red-500" [svgIcon]="
                                                                'heroicons_outline:x'
                                                            "></mat-icon>
                                                        <span class="ml-2">An error
                                                            occurred,
                                                            try
                                                            again!</span>
                                                    </ng-container>
                                                </div>
                                                <button mat-flat-button [color]="'primary'" (click)="
                                                        updateSelectedProduct()
                                                    ">
                                                    Update
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="mobile == false">
                            <div class="shadow-lg overflow-hidden">
                                <div class="flex border-b">
                                    <!-- Selected product form -->
                                    <form class="flex flex-col w-full" [formGroup]="
                                            selectedProductForm
                                        ">
                                        <div class="flex flex-col sm:flex-row p-8">
                                            <!-- Product images and status -->
                                            <div class="flex flex-col items-center sm:items-start mb-8 sm:mb-0">
                                                <div class="flex flex-col items-center image">
                                                    <div class="w-32 h-44 border rounded overflow-hidden">
                                                        <ng-container *ngIf="
                                                                product.product_img;
                                                                else noImage
                                                            ">
                                                            <img *ngIf="
                                                                    product.upload_format ==
                                                                    1
                                                                " [src]="
                                                                    imagePath +
                                                                    product.product_img
                                                                " />
                                                            <img *ngIf="
                                                                    product.upload_format ==
                                                                    0
                                                                " [src]="
                                                                    product.product_img
                                                                " />
                                                        </ng-container>

                                                        <ng-template #noImage>
                                                            <div class="image-upload">
                                                                <label for="file-input">
                                                                    <img src="assets/images/avatars/upload.png" style="
                                                                            margin-top: 30px; ;
                                                                        " />
                                                                </label>
                                                                <input type="file" id="file-input"
                                                                    accept=".png, .jpg, .jpeg" name="product_image"
                                                                    #fileInput (change)="
                                                                        onFileUpload(
                                                                            $event
                                                                        )
                                                                    " />
                                                            </div>
                                                        </ng-template>
                                                    </div>
                                                    <i class="fa fa-edit">
                                                        <div class="image-upload">
                                                            <label for="file-input">
                                                                <img src="assets/images/avatars/upload.png" />
                                                            </label>
                                                            <input type="file" id="file-input"
                                                                accept=".png, .jpg, .jpeg" name="product_image"
                                                                #fileInput (change)="
                                                                    onFileUpload(
                                                                        $event
                                                                    )
                                                                " />
                                                        </div>
                                                    </i>
                                                </div>
                                                <div class="flex flex-col mt-8" *ngIf="
                                                        product.product_status ==
                                                        0
                                                    ">
                                                    <span class="font-semibold mb-2">Product
                                                        status</span>
                                                    <label class="switch">
                                                        <input type="checkbox" [value]="1" [name]="
                                                                'product_status'
                                                            " (change)="
                                                                productStatus(
                                                                    $event
                                                                )
                                                            " matCheckbox />{{
                                                        "Disabled"
                                                        }}
                                                        <span class="slider round">
                                                        </span>
                                                    </label>
                                                </div>
                                                <div class="flex flex-col mt-8" *ngIf="
                                                        product.product_status ==
                                                        1
                                                    ">
                                                    <span class="font-semibold mb-2">Product
                                                        status</span>
                                                    <label class="switch">
                                                        <input type="checkbox" [value]="1" [name]="
                                                                'product_status'
                                                            " checked="true" (change)="
                                                                productStatus(
                                                                    $event
                                                                )
                                                            " matCheckbox />
                                                        <span class="slider round"></span>
                                                        {{ "Active" }}
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="flex flex-auto flex-wrap">
                                                <!-- Name, SKU & etc. -->
                                                <div class="flex flex-col w-full lg:w-2/4 sm:pl-8">
                                                    <!-- Name -->
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Name</mat-label>
                                                        <input matInput [formControlName]="
                                                                'product_name'
                                                            " />
                                                    </mat-form-field>

                                                    <!-- Type and Subtype -->
                                                    <div class="flex">
                                                        <mat-form-field class="w-2/3 pl-2">
                                                            <mat-label>Product
                                                                Type</mat-label>
                                                            <mat-select class="flex items-center h-10 min-h-10 px-4"
                                                                [formControlName]="
                                                                    'product_type'
                                                                " placeholder="Select Product-Type" (selectionChange)="
                                                                    onChangeProductType(
                                                                        $event
                                                                    )
                                                                ">
                                                                <mat-option [value]="
                                                                        'select'
                                                                    ">Select</mat-option>

                                                                <ng-container *ngFor="
                                                                        let tag of product_type
                                                                    ">
                                                                    <mat-option [value]="
                                                                            tag.product_type
                                                                        ">{{
                                                                        tag.product_type
                                                                        }}</mat-option>
                                                                </ng-container>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <mat-form-field class="w-1/3 pr-2">
                                                            <mat-label>Product
                                                                SubType</mat-label>
                                                            <mat-select class="flex items-center h-10 min-h-10 px-4"
                                                                [formControlName]="
                                                                    'product_sub_type'
                                                                " placeholder="Select Product-SubType">
                                                                <mat-option [value]="
                                                                        'select'
                                                                    ">Select</mat-option>
                                                                <ng-container *ngFor="
                                                                        let tag of product_sub_type
                                                                    ">
                                                                    <mat-option [value]="
                                                                            tag.product_sub_type
                                                                        ">{{
                                                                        tag.product_sub_type
                                                                        }}</mat-option>
                                                                </ng-container>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>

                                                    <!-- Category, Brand & SubCategory -->
                                                    <div class="flex">
                                                        <mat-form-field class="w-1/3 pr-2">
                                                            <mat-label>Category</mat-label>
                                                            <mat-select class="flex items-center h-10 min-h-10 px-4"
                                                                [formControlName]="
                                                                    'category'
                                                                " placeholder="Select Category" (selectionChange)="
                                                                    onChangeCategory(
                                                                        $event
                                                                    )
                                                                ">
                                                                <mat-option *ngFor="
                                                                        let tag of category
                                                                    " [value]="
                                                                        tag.category
                                                                    ">
                                                                    {{
                                                                    tag.category
                                                                    }}
                                                                </mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <mat-form-field class="w-1/3 pr-2">
                                                            <mat-label>SubCategory</mat-label>

                                                            <mat-select class="flex items-center h-10 min-h-10 px-4"
                                                                [formControlName]="
                                                                    'sub_category'
                                                                " placeholder="Select Sub-Category">
                                                                <mat-option [value]="
                                                                        'select'
                                                                    ">Select</mat-option>
                                                                <ng-container *ngFor="
                                                                        let subcat of sub_category
                                                                    ">
                                                                    <mat-option [value]="
                                                                            subcat.sub_category
                                                                        ">{{
                                                                        subcat.sub_category
                                                                        }}</mat-option>
                                                                </ng-container>
                                                            </mat-select>
                                                        </mat-form-field>
                                                        <mat-form-field class="w-1/3 pr-2">
                                                            <mat-label>Brand</mat-label>
                                                            <mat-select class="flex items-center h-10 min-h-10 px-4"
                                                                [formControlName]="
                                                                    'brand'
                                                                " placeholder="Select Brand">
                                                                <mat-option [value]="
                                                                        'select'
                                                                    ">Select</mat-option>
                                                                <ng-container *ngFor="
                                                                        let tag of brand
                                                                    ">
                                                                    <mat-option [value]="
                                                                            tag.brand
                                                                        ">{{
                                                                        tag.brand
                                                                        }}</mat-option>
                                                                </ng-container>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>

                                                    <!-- Stock and Reserved -->
                                                    <div class="flex">
                                                        <mat-form-field class="w-1/3 pr-2">
                                                            <mat-label>Stock</mat-label>
                                                            <input type="number" matInput [formControlName]="
                                                                    'product_qty'
                                                                " />
                                                        </mat-form-field>
                                                    </div>
                                                </div>

                                                <!-- Cost, Base price, Tax & Price -->
                                                <div class="flex flex-col w-full lg:w-1/4 sm:pl-8">
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Weight</mat-label>
                                                        <!-- <span matPrefix
                                                        >$</span
                                                    > -->
                                                        <input matInput [formControlName]="
                                                                'product_weight'
                                                            " />
                                                    </mat-form-field>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Selling
                                                            Price</mat-label>
                                                        <span matPrefix>₹</span>
                                                        <input matInput [formControlName]="
                                                                'offer_price'
                                                            " />
                                                    </mat-form-field>
                                                </div>

                                                <!-- Weight & Tags -->
                                                <div class="flex flex-col w-full lg:w-1/4 sm:pl-8">
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Weight
                                                            Type</mat-label>
                                                        <input matInput [formControlName]="
                                                                'product_weight_type'
                                                            " />
                                                    </mat-form-field>
                                                    <mat-form-field class="w-full">
                                                        <mat-label>Price</mat-label>
                                                        <span matPrefix>₹</span>
                                                        <input matInput [formControlName]="
                                                                'product_price'
                                                            " />
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="flex items-center justify-between w-full border-t px-8 py-4">
                                            <button class="-ml-4" mat-button [color]="'warn'" (click)="
                                                    deleteSelectedProduct()
                                                ">
                                                Delete
                                            </button>
                                            <div class="flex items-center">
                                                <div class="flex items-center mr-4" *ngIf="flashMessage">
                                                    <ng-container *ngIf="
                                                            flashMessage ===
                                                            'success'
                                                        ">
                                                        <mat-icon class="text-green-500" [svgIcon]="
                                                                'heroicons_outline:check'
                                                            "></mat-icon>
                                                        <span class="ml-2">Product
                                                            updated</span>
                                                    </ng-container>
                                                    <ng-container *ngIf="
                                                            flashMessage ===
                                                            'error'
                                                        ">
                                                        <mat-icon class="text-red-500" [svgIcon]="
                                                                'heroicons_outline:x'
                                                            "></mat-icon>
                                                        <span class="ml-2">An error
                                                            occurred,
                                                            try
                                                            again!</span>
                                                    </ng-container>
                                                </div>
                                                <button mat-flat-button [color]="'primary'" (click)="
                                                        updateSelectedProduct()
                                                    ">
                                                    Update
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </ng-container>
                    </ng-template>
                </div>
            </ng-template>
            <br />
            <div class="flex items-center ml-4 mb-4">
                <button mat-flat-button [color]="'warn'" (click)="prevStep()">
                    Back
                </button>
                &nbsp;
                <button mat-flat-button [color]="'primary'" (click)="nextStep()">
                    Next
                </button>
            </div>
        </div>
        <ng-template #noProducts>
            <div class="p-8 sm:p-16 border-t text-4xl font-semibold tracking-tight text-center">
                There are no products!
            </div>
        </ng-template>
    </div>
</div>